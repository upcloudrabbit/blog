<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.19" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'dark';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><meta property="og:url" content="https://upcloudrabbit.github.io/blog/blog/article/svrjlg68/"><meta property="og:site_name" content="upcloudrabbit blog"><meta property="og:title" content="ubuntu"><meta property="og:description" content="子网划分时只能选用 CDIR 进行，因此大部分划分格式为 192.168.x.0/24 分区时自定义分区必须添加 /boot （分配 2G 即可）swap （一般分配 2G，实机可不分配），否在在格式化时会直接奔溃，其余空间均挂载在 / 下即可 记得勾选 ssh 服务 ubuntu 换源 所有版本都可以直接修改 /etc/apt/sources.lis..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-03-04T11:44:52.000Z"><meta property="article:tag" content="ubuntu"><meta property="article:tag" content="os"><meta property="article:modified_time" content="2025-03-04T11:44:52.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"ubuntu","image":[""],"dateModified":"2025-03-04T11:44:52.000Z","author":[]}</script><link rel="icon" type="image/png" href="https://theme-plume.vuejs.press/favicon-32x32.png"><title>ubuntu | upcloudrabbit blog</title><meta name="description" content="子网划分时只能选用 CDIR 进行，因此大部分划分格式为 192.168.x.0/24 分区时自定义分区必须添加 /boot （分配 2G 即可）swap （一般分配 2G，实机可不分配），否在在格式化时会直接奔溃，其余空间均挂载在 / 下即可 记得勾选 ssh 服务 ubuntu 换源 所有版本都可以直接修改 /etc/apt/sources.lis..."><link rel="preload" href="/blog/assets/style-BEcvEdyM.css" as="style"><link rel="stylesheet" href="/blog/assets/style-BEcvEdyM.css"><link rel="modulepreload" href="/blog/assets/app-CJfFg5nr.js"><link rel="modulepreload" href="/blog/assets/index.html-BblA2sKy.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-68cd6b44><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-d5a8d0bc></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-d5a8d0bc> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-68cd6b44 data-v-d34f28d6><div class="vp-navbar" vp-navbar data-v-d34f28d6 data-v-70d97d16><div class="wrapper" data-v-70d97d16><div class="container" data-v-70d97d16><div class="title" data-v-70d97d16><div class="vp-navbar-title" data-v-70d97d16 data-v-2c8d4622><a class="vp-link no-icon link title" href="/blog/" data-v-2c8d4622 data-v-442a52aa><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" src="/blog/EditBlog.png" alt data-v-7fbfbc9b><!--]--><!--[--><img class="vp-image light logo" src="/blog/EditBlog.png" alt data-v-7fbfbc9b><!--]--><!--]--><!--]--><span data-v-2c8d4622>upcloudrabbit blog</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-70d97d16><div class="content-body" data-v-70d97d16><!--[--><!--]--><div class="vp-navbar-search search" data-v-70d97d16><div class="search-wrapper" data-v-97535d1e><!----><div id="local-search" data-v-97535d1e><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-97535d1e><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-70d97d16 data-v-d43c1732><span id="main-nav-aria-label" class="visually-hidden" data-v-d43c1732>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/" tabindex="0" data-v-d43c1732 data-v-9970a379 data-v-442a52aa><!--[--><!----><span data-v-9970a379>首页</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/categories/" tabindex="0" data-v-d43c1732 data-v-9970a379 data-v-442a52aa><!--[--><!----><span data-v-9970a379>分类</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/tags/" tabindex="0" data-v-d43c1732 data-v-9970a379 data-v-442a52aa><!--[--><!----><span data-v-9970a379>标签</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/archives/" tabindex="0" data-v-d43c1732 data-v-9970a379 data-v-442a52aa><!--[--><!----><span data-v-9970a379>归档</span><!--]--><!----></a><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-70d97d16 data-v-a295abf6><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-a295abf6 data-v-596c25a9 data-v-d84fedac><span class="check" data-v-d84fedac><span class="icon" data-v-d84fedac><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-70d97d16 data-v-ad52545c data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="https://github.com/upcloudrabbit" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-70d97d16 data-v-652282fd data-v-feafea4e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-feafea4e><span class="vpi-more-horizontal icon" data-v-feafea4e></span></button><div class="menu" data-v-feafea4e><div class="vp-menu" data-v-feafea4e data-v-709dc2b1><!----><!--[--><!--[--><!----><div class="group" data-v-652282fd><div class="item appearance" data-v-652282fd><p class="label" data-v-652282fd>外观</p><div class="appearance-action" data-v-652282fd><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-652282fd data-v-596c25a9 data-v-d84fedac><span class="check" data-v-d84fedac><span class="icon" data-v-d84fedac><!--[--><span class="vpi-sun sun" data-v-596c25a9></span><span class="vpi-moon moon" data-v-596c25a9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-652282fd><div class="item social-links" data-v-652282fd><div class="vp-social-links social-links-list" data-v-652282fd data-v-40bac536><!--[--><a class="vp-social-link no-icon" href="https://github.com/upcloudrabbit" aria-label="github" target="_blank" rel="noopener" data-v-40bac536 data-v-67b21932><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-70d97d16 data-v-2b50024d><span class="container" data-v-2b50024d><span class="top" data-v-2b50024d></span><span class="middle" data-v-2b50024d></span><span class="bottom" data-v-2b50024d></span></span></button></div></div></div></div><div class="divider" data-v-70d97d16><div class="divider-line" data-v-70d97d16></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-68cd6b44 data-v-1dc3518c><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-1dc3518c><span class="vpi-align-left menu-icon" data-v-1dc3518c></span><span class="menu-text" data-v-1dc3518c>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-1dc3518c data-v-423a73ec><button data-v-423a73ec>返回顶部</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-68cd6b44 data-v-eb709286><div class="vp-doc-container is-blog" data-v-eb709286 data-v-e0bef33b><!--[--><!--]--><div class="container" data-v-e0bef33b><!----><div class="content" data-v-e0bef33b><div class="content-container" data-v-e0bef33b><!--[--><!--]--><main class="main" data-v-e0bef33b><nav class="vp-breadcrumb" data-v-e0bef33b data-v-1ae4ad7a><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-1ae4ad7a><!--[--><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link no-icon link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-1ae4ad7a data-v-442a52aa><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="首页" data-v-1ae4ad7a><meta property="position" content="1" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link no-icon link breadcrumb" href="/blog/categories/?id=dd302f" property="item" typeof="WebPage" data-v-1ae4ad7a data-v-442a52aa><!--[-->os<!--]--><!----></a><span class="vpi-chevron-right" data-v-1ae4ad7a></span><meta property="name" content="os" data-v-1ae4ad7a><meta property="position" content="2" data-v-1ae4ad7a></li><li property="itemListElement" typeof="ListItem" data-v-1ae4ad7a><a class="vp-link no-icon link breadcrumb current" href="/blog/article/svrjlg68/" property="item" typeof="WebPage" data-v-1ae4ad7a data-v-442a52aa><!--[-->ubuntu<!--]--><!----></a><!----><meta property="name" content="ubuntu" data-v-1ae4ad7a><meta property="position" content="3" data-v-1ae4ad7a></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-581be9b0>ubuntu <!----></h1><div class="vp-doc-meta" data-v-581be9b0><p class="reading-time" data-v-581be9b0><span class="vpi-books icon" data-v-581be9b0></span><span data-v-581be9b0>约 981 字</span><span data-v-581be9b0>大约 3 分钟</span></p><p data-v-581be9b0><span class="vpi-tag icon" data-v-581be9b0></span><!--[--><a class="vp-link no-icon link tag vp-tag-ata4" href="/blog/tags/?tag=ubuntu" data-v-581be9b0 data-v-442a52aa><!--[-->ubuntu<!--]--><!----></a><a class="vp-link no-icon link tag vp-tag-x0nt" href="/blog/tags/?tag=os" data-v-581be9b0 data-v-442a52aa><!--[-->os<!--]--><!----></a><!--]--></p><p class="create-time" data-v-581be9b0><span class="vpi-clock icon" data-v-581be9b0></span><span data-v-581be9b0>2025-03-04</span></p></div><!--]--><div class="_article_svrjlg68_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-e0bef33b><div data-v-e0bef33b><ol><li>子网划分时只能选用 CDIR 进行，因此大部分划分格式为 <code>192.168.x.0/24</code></li><li>分区时自定义分区必须添加 /boot （分配 2G 即可）swap （一般分配 2G，实机可不分配），否在在格式化时会直接奔溃，其余空间均挂载在 / 下即可</li><li>记得勾选 ssh 服务</li></ol><h1 id="ubuntu-换源" tabindex="-1"><a class="header-anchor" href="#ubuntu-换源"><span>ubuntu 换源</span></a></h1><ul><li>所有版本都可以直接修改 <code>/etc/apt/sources.list.d/ubuntu.sources</code>文件（以下为 24.04 版本对应的源，其它版本需要自行对应第二列的<a href="https://wiki.ubuntu.com/Releases/" target="_blank" rel="noopener noreferrer">版本号</a>）</li></ul><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">deb</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span><span style="color:#98C379;"> noble</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">deb-src</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span><span style="color:#98C379;"> noble</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">deb</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span><span style="color:#98C379;"> noble-security</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">deb-src</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span><span style="color:#98C379;"> noble-security</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">deb</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span><span style="color:#98C379;"> noble-updates</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">deb-src</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span><span style="color:#98C379;"> noble-updates</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">deb</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span><span style="color:#98C379;"> noble-proposed</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">deb-src</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span><span style="color:#98C379;"> noble-proposed</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">deb</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span><span style="color:#98C379;"> noble-backports</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">deb-src</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span><span style="color:#98C379;"> noble-backports</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ubuntu24.04 的源地址配置文件发生改变，<code>/etc/apt/sources.list </code>文件内容变成了一行注释 <code># Ubuntu sources have moved to /etc/apt/sources.list.d/ubuntu.sources</code>新的官方源配置放在了<code>/etc/apt/sources.list.d/ubuntu.sources</code>中，升级前的三方源被放在了<code>/etc/apt/sources.list.d/third-party.sources</code>中 <ol><li>首先修改<code>sources.list.d/ubuntu.sources</code>，添加<code>Enabled: no</code>进行禁用</li></ol></li></ul><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">Enabled:</span><span style="color:#98C379;"> no</span></span>
<span class="line"><span style="color:#61AFEF;">Types:</span><span style="color:#98C379;"> deb</span></span>
<span class="line"><span style="color:#61AFEF;">URIs:</span><span style="color:#98C379;"> http://archive.ubuntu.com/ubuntu</span></span>
<span class="line"><span style="color:#61AFEF;">Suites:</span><span style="color:#98C379;"> noble</span><span style="color:#98C379;"> noble-updates</span></span>
<span class="line"><span style="color:#61AFEF;">Components:</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">Signed-By:</span><span style="color:#98C379;"> /usr/share/keyrings/ubuntu-archive-keyring.gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">Enabled:</span><span style="color:#98C379;"> no</span></span>
<span class="line"><span style="color:#61AFEF;">Types:</span><span style="color:#98C379;"> deb</span></span>
<span class="line"><span style="color:#61AFEF;">URIs:</span><span style="color:#98C379;"> http://security.ubuntu.com/ubuntu</span></span>
<span class="line"><span style="color:#61AFEF;">Suites:</span><span style="color:#98C379;"> noble-security</span></span>
<span class="line"><span style="color:#61AFEF;">Components:</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">Signed-By:</span><span style="color:#98C379;"> /usr/share/keyrings/ubuntu-archive-keyring.gpg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>2. 在目录 `/etc/apt/sources.list.d`下新建 `third-party.sources`（名字其实无所谓）
</code></pre><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 清华源</span></span>
<span class="line"><span style="color:#61AFEF;">Enabled:</span><span style="color:#98C379;"> yes</span></span>
<span class="line"><span style="color:#61AFEF;">Types:</span><span style="color:#98C379;"> deb</span></span>
<span class="line"><span style="color:#61AFEF;">URIs:</span><span style="color:#98C379;"> https://mirrors.tuna.tsinghua.edu.cn/ubuntu/</span></span>
<span class="line"><span style="color:#61AFEF;">Suites:</span><span style="color:#98C379;"> noble</span><span style="color:#98C379;"> noble-updates</span><span style="color:#98C379;"> noble-security</span></span>
<span class="line"><span style="color:#61AFEF;">Components:</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">Signed-By:</span><span style="color:#98C379;"> /usr/share/keyrings/ubuntu-archive-keyring.gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 中科大源</span></span>
<span class="line"><span style="color:#61AFEF;">Enabled:</span><span style="color:#98C379;"> yes</span></span>
<span class="line"><span style="color:#61AFEF;">Types:</span><span style="color:#98C379;"> deb</span></span>
<span class="line"><span style="color:#61AFEF;">URIs:</span><span style="color:#98C379;"> https://mirrors.ustc.edu.cn/ubuntu/</span></span>
<span class="line"><span style="color:#61AFEF;">Suites:</span><span style="color:#98C379;"> noble</span><span style="color:#98C379;"> noble-updates</span><span style="color:#98C379;"> noble-security</span></span>
<span class="line"><span style="color:#61AFEF;">Components:</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">Signed-By:</span><span style="color:#98C379;"> /usr/share/keyrings/ubuntu-archive-keyring.gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 阿里源</span></span>
<span class="line"><span style="color:#61AFEF;">Enabled:</span><span style="color:#98C379;"> yes</span></span>
<span class="line"><span style="color:#61AFEF;">Types:</span><span style="color:#98C379;"> deb</span></span>
<span class="line"><span style="color:#61AFEF;">URIs:</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span></span>
<span class="line"><span style="color:#61AFEF;">Suites:</span><span style="color:#98C379;"> noble</span><span style="color:#98C379;"> noble-updates</span><span style="color:#98C379;"> noble-security</span></span>
<span class="line"><span style="color:#61AFEF;">Components:</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">Signed-By:</span><span style="color:#98C379;"> /usr/share/keyrings/ubuntu-archive-keyring.gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 网易源</span></span>
<span class="line"><span style="color:#61AFEF;">Enabled:</span><span style="color:#98C379;"> no</span></span>
<span class="line"><span style="color:#61AFEF;">Types:</span><span style="color:#98C379;"> deb</span></span>
<span class="line"><span style="color:#61AFEF;">URIs:</span><span style="color:#98C379;"> https://mirrors.163.com/ubuntu/</span></span>
<span class="line"><span style="color:#61AFEF;">Suites:</span><span style="color:#98C379;"> noble</span><span style="color:#98C379;"> noble-updates</span><span style="color:#98C379;"> noble-security</span></span>
<span class="line"><span style="color:#61AFEF;">Components:</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">Signed-By:</span><span style="color:#98C379;"> /usr/share/keyrings/ubuntu-archive-keyring.gpg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 腾讯源</span></span>
<span class="line"><span style="color:#61AFEF;">Enabled:</span><span style="color:#98C379;"> yes</span></span>
<span class="line"><span style="color:#61AFEF;">Types:</span><span style="color:#98C379;"> deb</span></span>
<span class="line"><span style="color:#61AFEF;">URIs:</span><span style="color:#98C379;"> https://mirrors.tencent.com/ubuntu/</span></span>
<span class="line"><span style="color:#61AFEF;">Suites:</span><span style="color:#98C379;"> noble</span><span style="color:#98C379;"> noble-updates</span><span style="color:#98C379;"> noble-security</span></span>
<span class="line"><span style="color:#61AFEF;">Components:</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> restricted</span><span style="color:#98C379;"> universe</span><span style="color:#98C379;"> multiverse</span></span>
<span class="line"><span style="color:#61AFEF;">Signed-By:</span><span style="color:#98C379;"> /usr/share/keyrings/ubuntu-archive-keyring.gpg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ubuntu24.04 如果直接把以下内容写入 <code>/etc/apt/sources.list</code></li></ul><p><img src="/blog/assets/1-ZSFlVNNM.png" alt="" width="1046" height="309"></p><p>会出现以下错误</p><p><img src="/blog/assets/2-nFtTd2DG.png" alt="" width="932" height="71"></p><ul><li>如果需要安装低版本的 gcc 则需要添加低版本的 ubuntu 源，添加以下源运行<code>apt update</code>更新后安装</li></ul><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">Enabled:</span><span style="color:#98C379;"> yes</span></span>
<span class="line"><span style="color:#61AFEF;">Types:</span><span style="color:#98C379;"> deb</span></span>
<span class="line"><span style="color:#61AFEF;">URIs:</span><span style="color:#98C379;"> https://mirrors.aliyun.com/ubuntu/</span></span>
<span class="line"><span style="color:#61AFEF;">Suites:</span><span style="color:#98C379;"> xenial</span><span style="color:#98C379;"> xenial-updates</span><span style="color:#98C379;"> xenial-security</span></span>
<span class="line"><span style="color:#61AFEF;">Components:</span><span style="color:#98C379;"> main</span><span style="color:#98C379;"> universe</span></span>
<span class="line"><span style="color:#61AFEF;">Signed-By:</span><span style="color:#98C379;"> /usr/share/keyrings/ubuntu-archive-keyring.gpg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以 gcc5 为例进行安装：</p><ol><li>首先查看 gcc5 可选的版本<code>apt-cache policy gcc-5</code></li></ol><p><img src="/blog/assets/3-BxRZJz69.png" alt="" width="916" height="252"></p><ol start="2"><li>选择其中一个版本进行安装 <code>apt-get install -y gcc-5=5.4.0-6ubuntu1~16.04.12 g++-5=5.4.0-6ubuntu1~16.04.12</code></li><li>将 gcc5、g++5 设为默认版本 <code>update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 30 &amp;&amp; update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-5 30</code></li><li>运行命令<code>gcc --version</code>、<code>g++ --version</code>输出以下结果无误</li></ol><p><img src="/blog/assets/4-Bj_WSZg-.png" alt="" width="845" height="240"></p><h1 id="ubuntu-安装-docker" tabindex="-1"><a class="header-anchor" href="#ubuntu-安装-docker"><span>ubuntu 安装 docker</span></a></h1><p>由于各种原因现在只推荐离线安装 docker 了</p><ol><li>首先需要卸载之前安装过的 docker 应用，执行以下命令删除 docker</li></ol><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#C678DD;"> for</span><span style="color:#E06C75;"> pkg</span><span style="color:#C678DD;"> in</span><span style="color:#98C379;"> docker.io</span><span style="color:#98C379;"> docker-doc</span><span style="color:#98C379;"> docker-compose</span><span style="color:#98C379;"> docker-compose-v2</span><span style="color:#98C379;"> podman-docker</span><span style="color:#98C379;"> containerd</span><span style="color:#98C379;"> runc</span><span style="color:#ABB2BF;">; </span><span style="color:#C678DD;">do</span><span style="color:#61AFEF;"> sudo</span><span style="color:#98C379;"> apt-get</span><span style="color:#98C379;"> remove</span><span style="color:#E06C75;"> $pkg</span><span style="color:#ABB2BF;">; </span><span style="color:#C678DD;">done</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>需要安装一些依赖<code>apt-get install -y apt-transport-https ca-certificates curl gnupg lsb-release</code>（这些依赖是为通过 apt 在线安装服务的，如果是离线安装则无需下载安装）</li><li>去<a href="https://download.docker.com/linux/ubuntu/dists/noble/pool/stable/amd64/" target="_blank" rel="noopener noreferrer">官网</a>直接下载对应的安装包，需要注意平台和操作系统版本。这里需要下载<code>docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</code>这 5 个包即可</li><li>通过命令进行安装</li></ol><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">dpkg</span><span style="color:#D19A66;"> -i</span><span style="color:#98C379;"> ./containerd.io_</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">versio</span><span style="color:#ABB2BF;">n&gt;</span><span style="color:#98C379;">_</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">arc</span><span style="color:#ABB2BF;">h&gt;</span><span style="color:#98C379;">.deb</span><span style="color:#56B6C2;"> \</span></span>
<span class="line"><span style="color:#98C379;">  ./docker-ce_</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">versio</span><span style="color:#ABB2BF;">n&gt;</span><span style="color:#98C379;">_</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">arc</span><span style="color:#ABB2BF;">h&gt;</span><span style="color:#98C379;">.deb</span><span style="color:#56B6C2;"> \</span></span>
<span class="line"><span style="color:#98C379;">  ./docker-ce-cli_</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">versio</span><span style="color:#ABB2BF;">n&gt;</span><span style="color:#98C379;">_</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">arc</span><span style="color:#ABB2BF;">h&gt;</span><span style="color:#98C379;">.deb</span><span style="color:#56B6C2;"> \</span></span>
<span class="line"><span style="color:#98C379;">  ./docker-buildx-plugin_</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">versio</span><span style="color:#ABB2BF;">n&gt;</span><span style="color:#98C379;">_</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">arc</span><span style="color:#ABB2BF;">h&gt;</span><span style="color:#98C379;">.deb</span><span style="color:#56B6C2;"> \</span></span>
<span class="line"><span style="color:#98C379;">  ./docker-compose-plugin_</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">versio</span><span style="color:#ABB2BF;">n&gt;</span><span style="color:#98C379;">_</span><span style="color:#ABB2BF;">&lt;</span><span style="color:#98C379;">arc</span><span style="color:#ABB2BF;">h&gt;</span><span style="color:#98C379;">.deb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>修改配置文件，然后重启 docker 应用<code>systemctl restart docker</code></li></ol><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">mkdir</span><span style="color:#D19A66;"> -p</span><span style="color:#98C379;"> /etc/docker</span><span style="color:#ABB2BF;"> &amp;&amp; </span><span style="color:#56B6C2;">\</span></span>
<span class="line"><span style="color:#61AFEF;">tee</span><span style="color:#98C379;"> /etc/docker/daemon.json</span><span style="color:#ABB2BF;"> &lt;&lt;-</span><span style="color:#ABB2BF;">&#39;EOF&#39;</span></span>
<span class="line"><span style="color:#98C379;">{</span></span>
<span class="line"><span style="color:#98C379;">  &quot;data-root&quot;: &quot;/home/lhc/softs/docker_storage&quot;,</span></span>
<span class="line"><span style="color:#98C379;">  &quot;registry-mirrors&quot;: [</span></span>
<span class="line"><span style="color:#98C379;">    &quot;https://docker.m.daocloud.io&quot;,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;https://docker.jianmuhub.com&quot;,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;https://huecker.io&quot;,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;https://dockerhub.timeweb.cloud&quot;,</span></span>
<span class="line"><span style="color:#98C379;">    &quot;https://dockerhub1.beget.com&quot;</span></span>
<span class="line"><span style="color:#98C379;">  ]</span></span>
<span class="line"><span style="color:#98C379;">}</span></span>
<span class="line"><span style="color:#ABB2BF;">EOF</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>添加 docker 服务权限给普通用户组</li></ol><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">usermod</span><span style="color:#D19A66;"> -aG</span><span style="color:#98C379;"> docker</span><span style="color:#98C379;"> mpsp</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 退出到 mpsp 用户执行以下命令, 或者重启服务器</span></span>
<span class="line"><span style="color:#61AFEF;">newgrp</span><span style="color:#98C379;"> docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><!----><div class="vp-doc-copyright" data-v-e0bef33b><h2 id="doc-copyright" tabindex="-1" class="vp-doc-header" data-v-309da98c><a href="#doc-copyright" class="header-anchor" data-v-309da98c><span data-v-309da98c><!--[-->版权所有<!--]--></span></a></h2><div class="hint-container tip copyright-container" data-v-2a9548e5><p data-v-2a9548e5><span data-v-2a9548e5>版权归属：</span><a class="vp-link no-icon link" href="https://github.com/upcloudrabbit" target="_blank" rel="noreferrer" data-v-2a9548e5 data-v-442a52aa><!--[-->upcloudrabbit<!--]--><!----></a></p><p data-v-2a9548e5><span data-v-2a9548e5>本文链接：</span><a class="vp-link no-icon link" href="/blog/article/svrjlg68/" data-allow-mismatch data-v-2a9548e5 data-v-442a52aa><!--[-->/article/svrjlg68/<!--]--><!----></a></p><p data-v-2a9548e5><span data-v-2a9548e5>许可证：</span><a class="vp-link no-icon link" href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noreferrer" data-v-2a9548e5 data-v-442a52aa><!--[-->署名 4.0 国际 (CC-BY-4.0)<!--]--><!----></a><!--[--><span class="vpi-license-cc" data-v-2a9548e5></span><span class="vpi-license-by" data-v-2a9548e5></span><!--]--></p></div></div></div></main><footer class="vp-doc-footer" data-v-e0bef33b data-v-f7268517><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-f7268517><span class="contributors-label" data-v-f7268517>贡献者: </span><span class="contributors-info" data-v-f7268517><!--[--><!--[--><span class="contributor" data-v-f7268517>upcloudrabbit</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-f7268517><div class="pager" data-v-f7268517><a class="vp-link no-icon link pager-link prev" href="/blog/article/j5gvwu44/" data-v-f7268517 data-v-442a52aa><!--[--><span class="desc" data-v-f7268517>上一页</span><span class="title" data-v-f7268517>archlinux</span><!--]--><!----></a></div><div class="pager" data-v-f7268517><a class="vp-link no-icon link pager-link next" href="/blog/article/yauuumex/" data-v-f7268517 data-v-442a52aa><!--[--><span class="desc" data-v-f7268517>下一页</span><span class="title" data-v-f7268517>bash</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-68cd6b44 data-v-f098172b><span class="percent" data-allow-mismatch data-v-f098172b>0%</span><span class="show icon vpi-back-to-top" data-v-f098172b></span><svg aria-hidden="true" data-v-f098172b><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-f098172b></circle></svg></button><footer class="vp-footer" vp-footer data-v-68cd6b44 data-v-400675cf><!--[--><div class="container" data-v-400675cf><p class="message" data-v-400675cf>Power by upcloudrabbit</p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/blog/assets/app-CJfFg5nr.js" defer></script></body></html>