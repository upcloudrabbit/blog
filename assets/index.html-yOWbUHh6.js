import{_ as t,c as o,a as p,b as n,f as l,d as e,e as i,r as c,o as r}from"./app-CJfFg5nr.js";const d="/blog/assets/1-D-dtSNOx.png",y={};function u(m,s){const a=c("font");return r(),o("div",null,[s[14]||(s[14]=p(`<p>键入以下命令，连敲三次回车生成公钥，默认生成路径（第一次敲回车前就是设置路径） C:\\Users\\Haochuliu.ssh</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">ssh-keygen</span><span style="color:#D19A66;"> -t</span><span style="color:#98C379;"> ed25519</span><span style="color:#D19A66;"> -C</span><span style="color:#98C379;"> &quot;邮箱地址&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>配置本地用户名、邮箱</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#61AFEF;">git</span><span style="color:#98C379;"> config</span><span style="color:#D19A66;"> --global</span><span style="color:#98C379;"> user.name</span><span style="color:#98C379;"> 用户名</span></span>
<span class="line"><span style="color:#61AFEF;">git</span><span style="color:#98C379;"> config</span><span style="color:#D19A66;"> --global</span><span style="color:#98C379;"> user.email</span><span style="color:#98C379;"> 邮箱</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>配置全局代理</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># HTTP/HTTPS 协议 单独为 github配置</span></span>
<span class="line"><span style="color:#61AFEF;">git</span><span style="color:#98C379;"> config</span><span style="color:#D19A66;"> --global</span><span style="color:#98C379;"> http.proxy://github.com.proxy</span><span style="color:#98C379;"> http://127.0.0.1:10809</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># SOCKS5 协议</span></span>
<span class="line"><span style="color:#61AFEF;">git</span><span style="color:#98C379;"> config</span><span style="color:#D19A66;"> --global</span><span style="color:#98C379;"> http.proxy://github.com.proxy</span><span style="color:#98C379;"> socks5://127.0.0.1:10808</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># HTTP/HTTPS 协议 全局配置</span></span>
<span class="line"><span style="color:#61AFEF;">git</span><span style="color:#98C379;"> config</span><span style="color:#D19A66;"> --global</span><span style="color:#98C379;"> http.proxy</span><span style="color:#98C379;"> http://127.0.0.1:10809</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># SOCKS5 协议 全局配置</span></span>
<span class="line"><span style="color:#61AFEF;">git</span><span style="color:#98C379;"> config</span><span style="color:#D19A66;"> --global</span><span style="color:#98C379;"> http.proxy</span><span style="color:#98C379;"> socks5://127.0.0.1:10808</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 也可以直接修改 C:\\Users\\Haochuliu\\.gitconfig 文件</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 以下为示例</span></span>
<span class="line"><span style="color:#ABB2BF;">[user]</span></span>
<span class="line"><span style="color:#61AFEF;">	email</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> 1814876440@qq.com</span></span>
<span class="line"><span style="color:#61AFEF;">	name</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> haochuliu</span></span>
<span class="line"><span style="color:#ABB2BF;">[url </span><span style="color:#98C379;">&quot;git@github.com:&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#61AFEF;">	insteadOf</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> https://github.com</span></span>
<span class="line"><span style="color:#ABB2BF;">[http </span><span style="color:#98C379;">&quot;proxy://github.com&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#61AFEF;">	proxy</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> http://127.0.0.1:10809</span></span>
<span class="line"><span style="color:#61AFEF;">	sslVerify</span><span style="color:#98C379;"> =</span><span style="color:#D19A66;"> false</span></span>
<span class="line"><span style="color:#ABB2BF;">[https </span><span style="color:#98C379;">&quot;proxy://github.com&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#61AFEF;">	proxy</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> http://127.0.0.1:10809</span></span>
<span class="line"><span style="color:#61AFEF;">	sslVerify</span><span style="color:#98C379;"> =</span><span style="color:#D19A66;"> false</span></span>
<span class="line"><span style="color:#ABB2BF;">[url </span><span style="color:#98C379;">&quot;git@gitee.com:&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#61AFEF;">	insteadOf</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> https://gitee.com</span></span>
<span class="line"><span style="color:#ABB2BF;">[http </span><span style="color:#98C379;">&quot;proxy://gitee.com&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#61AFEF;">	proxy</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> http://127.0.0.1:10809</span></span>
<span class="line"><span style="color:#61AFEF;">	sslVerify</span><span style="color:#98C379;"> =</span><span style="color:#D19A66;"> false</span></span>
<span class="line"><span style="color:#ABB2BF;">[https </span><span style="color:#98C379;">&quot;proxy://gitee.com&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#61AFEF;">	proxy</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> http://127.0.0.1:10809</span></span>
<span class="line"><span style="color:#61AFEF;">	sslVerify</span><span style="color:#98C379;"> =</span><span style="color:#D19A66;"> false</span></span>
<span class="line"><span style="color:#ABB2BF;">[safe]</span></span>
<span class="line"><span style="color:#61AFEF;">	directory</span><span style="color:#98C379;"> =</span><span style="color:#E5C07B;"> *</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 这里为不需要走代理的仓库地址</span></span>
<span class="line"><span style="color:#ABB2BF;">[credential </span><span style="color:#98C379;">&quot;http://git.ci.xxx.com.cn&quot;</span><span style="color:#ABB2BF;">]</span></span>
<span class="line"><span style="color:#61AFEF;">	provider</span><span style="color:#98C379;"> =</span><span style="color:#98C379;"> generic</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>多账户设置代理，在目录下（C:\\Users\\Haochuliu.ssh）创建 config 文件，写入以下内容</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># Host：仓库网站的别名，随意写，这个别名可以在 git clone 时替换原本域名</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># HostName：仓库网站的域名（PS：IP 地址应该也可以）</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># Port：SSH 默认的端口</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># User：仓库网站上的用户名，最好写成邮箱</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># IdentityFile：私钥的绝对路径</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># ProxyCommand：代理方式，使用 connect 进行代理（这个 connect 安装 git 后会自带）</span></span>
<span class="line"><span style="color:#61AFEF;">Host</span><span style="color:#98C379;"> github.com</span></span>
<span class="line"><span style="color:#61AFEF;">HostName</span><span style="color:#98C379;"> github.com</span></span>
<span class="line"><span style="color:#61AFEF;">Port</span><span style="color:#D19A66;"> 22</span></span>
<span class="line"><span style="color:#61AFEF;">User</span><span style="color:#98C379;"> 1814876440@qq.com</span></span>
<span class="line"><span style="color:#61AFEF;">PreferredAuthentications</span><span style="color:#98C379;"> publickey</span></span>
<span class="line"><span style="color:#61AFEF;">IdentityFile</span><span style="color:#98C379;"> &quot;C:\\Users\\Haochuliu\\.ssh\\id_ed25519&quot;</span></span>
<span class="line"><span style="color:#61AFEF;">ProxyCommand</span><span style="color:#98C379;"> &quot;D:\\Apps\\Git\\mingw64\\bin\\connect.exe&quot;</span><span style="color:#D19A66;"> -S</span><span style="color:#98C379;"> 127.0.0.1:10808</span><span style="color:#D19A66;"> -a</span><span style="color:#98C379;"> none</span><span style="color:#98C379;"> %h</span><span style="color:#98C379;"> %p</span></span>
<span class="line"><span style="color:#61AFEF;">TCPKeepAlive</span><span style="color:#98C379;"> yes</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF;">Host</span><span style="color:#98C379;"> gitee.com</span></span>
<span class="line"><span style="color:#61AFEF;">HostName</span><span style="color:#98C379;"> gitee.com</span></span>
<span class="line"><span style="color:#61AFEF;">Port</span><span style="color:#D19A66;"> 22</span></span>
<span class="line"><span style="color:#61AFEF;">User</span><span style="color:#98C379;"> 1814876440@qq.com</span></span>
<span class="line"><span style="color:#61AFEF;">PreferredAuthentications</span><span style="color:#98C379;"> publickey</span></span>
<span class="line"><span style="color:#61AFEF;">IdentityFile</span><span style="color:#98C379;"> &quot;C:\\Users\\Haochuliu\\.ssh\\id_ed25519&quot;</span></span>
<span class="line"><span style="color:#61AFEF;">ProxyCommand</span><span style="color:#98C379;"> &quot;D:\\Apps\\Git\\mingw64\\bin\\connect.exe&quot;</span><span style="color:#D19A66;"> -S</span><span style="color:#98C379;"> 127.0.0.1:10808</span><span style="color:#D19A66;"> -a</span><span style="color:#98C379;"> none</span><span style="color:#98C379;"> %h</span><span style="color:#98C379;"> %p</span></span>
<span class="line"><span style="color:#61AFEF;">TCPKeepAlive</span><span style="color:#98C379;"> yes</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="git-本地创建密钥" tabindex="-1"><a class="header-anchor" href="#git-本地创建密钥"><span>Git 本地创建密钥</span></a></h1><p>github 自 2022 年 3 月份以后需要更改密钥生成规则，以下是生成过程</p><ol><li>打开 git bash 键入命令：ssh-keygen -t ed25519 -C &quot;your-email&quot; 然后连敲三次回车</li><li>cat ~/.ssh/id_ed25519.pub</li><li>将密钥复制到 github ssh密钥配置</li><li>键入命令生成 know_host 文件 ssh-keyscan -t rsa github.com &gt;&gt; ~/.ssh/known_hosts</li><li>ssh -T git@github.com 验证是否成功（gitee 验证为 ssh -T git@gitee.com）</li></ol><h1 id="git-远程创建仓库和本地关联" tabindex="-1"><a class="header-anchor" href="#git-远程创建仓库和本地关联"><span>Git 远程创建仓库和本地关联</span></a></h1><ol><li>首先在 github 创建远程仓库</li><li>本地打开 git bash 键入命令：git init</li><li>本地创建分支：git branch -b 分支名称（如果不创建默认就是 master）</li><li>关联远程仓库：git remote add origin 远程仓库地址</li><li>本地创建远程分支：git push --set-upstream origin 本地分支名称（可尝试加 -f 强制创建）</li><li>正常 git add . git commit -m 提交描述 git push</li></ol><h1 id="gitee、git-配置公钥后依旧需要使用密码登录" tabindex="-1"><a class="header-anchor" href="#gitee、git-配置公钥后依旧需要使用密码登录"><span>Gitee、Git 配置公钥后依旧需要使用密码登录</span></a></h1><p>这里大概率当前仓库是通过 https 拉取下来的，需要改成 ssh 才行。</p><ul><li>直接进入项目的 .git 文件夹中找到 config 文件直接修改文件中的 url 为 ssh 协议即可</li></ul><h1 id="git-clone-指定文件或者文件夹而不是整个仓库" tabindex="-1"><a class="header-anchor" href="#git-clone-指定文件或者文件夹而不是整个仓库"><span>Git clone 指定文件或者文件夹而不是整个仓库</span></a></h1><p>可以使用 Sparse Checkout 模式，需要 Git 版本至少为 2.37.1，依次键入以下命令，单独拉取文件、文件夹</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki one-dark-pro vp-code"><code><span class="line"><span style="color:#7F848E;font-style:italic;"># 初始化本地仓库</span></span>
<span class="line"><span style="color:#61AFEF;">git</span><span style="color:#98C379;"> clone</span><span style="color:#D19A66;"> --filter=blob:none</span><span style="color:#D19A66;"> --no-checkout</span><span style="color:#D19A66;"> --depth</span><span style="color:#D19A66;"> 1</span><span style="color:#D19A66;"> --sparse</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">project-ur</span><span style="color:#ABB2BF;">l&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 进入仓库</span></span>
<span class="line"><span style="color:#56B6C2;">cd</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">projec</span><span style="color:#ABB2BF;">t&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 添加需要单独拉取的文件夹名称</span></span>
<span class="line"><span style="color:#61AFEF;">git</span><span style="color:#98C379;"> sparse-checkout</span><span style="color:#98C379;"> add</span><span style="color:#ABB2BF;"> &lt;</span><span style="color:#98C379;">folder</span><span style="color:#ABB2BF;">1&gt; &lt;</span><span style="color:#98C379;">folder</span><span style="color:#ABB2BF;">2&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic;"># 开始拉取</span></span>
<span class="line"><span style="color:#61AFEF;">git</span><span style="color:#98C379;"> checkout</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="git-常用命令" tabindex="-1"><a class="header-anchor" href="#git-常用命令"><span>Git 常用命令</span></a></h1>`,20)),n("ol",null,[s[10]||(s[10]=n("li",null,[l("git 删除本地分支 "),n("code",null,"git branch --delete 分支名")],-1)),s[11]||(s[11]=n("li",null,[l("git 删除远程分支 "),n("code",null,"git push origin --delete 分支名")],-1)),n("li",null,[s[0]||(s[0]=l("git 删除提交到暂存区的文件/文件夹")),e(a,{style:{color:"rgb(51, 51, 51)"}}),s[1]||(s[1]=n("code",null,"git rm --cache 文件名",-1)),s[2]||(s[2]=l()),s[3]||(s[3]=n("code",null,"git rm --cache -r 文件夹",-1)),s[4]||(s[4]=l("（不带参数 --cache 则会删除源文件/文件夹，这个路径是从工程的根路径算起）"))]),s[12]||(s[12]=n("li",null,[l("git 查看提交信息/版本号 "),n("code",null,"git log")],-1)),n("li",null,[s[6]||(s[6]=l("git 撤销某次修改 ")),s[7]||(s[7]=n("code",null,"git reset --mixed commitID",-1)),s[8]||(s[8]=l("（--soft 仅仅只是撤销已提交的版本库，不会修改暂存区和工作区；--mixed 仅仅只是撤销已提交的版本库和暂存区，不会修改工作区；--hard 彻底将工作区、暂存区和版本库记录恢复到指定的版本库。")),e(a,{style:{color:"#DF2A3F"}},{default:i(()=>s[5]||(s[5]=[l("--hard 使用之前必须保证尚未提交的代码已经提交，不然会丢失代码")])),_:1}),s[9]||(s[9]=l("）"))]),s[13]||(s[13]=n("li",null,[l("git 删除某次提交（提交历史记录也不存在）首先 "),n("code",null,"git log"),l("查看要删除的提交编号，然后"),n("code",null,"git rebase -i commitID"),l("进入 vim 编辑，找到对应的 commitid 将 pick 修改未为 drop，保存退出即可。")],-1))]),s[15]||(s[15]=n("h1",{id:"git-配置代理错误",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#git-配置代理错误"},[n("span",null,"Git 配置代理错误")])],-1)),s[16]||(s[16]=n("p",null,"以下错误大概率是代理配置错误或者代理不支持 ssh 连接（socket 代理连接），可以尝试修改为 http 代理连接",-1)),s[17]||(s[17]=n("p",null,[n("img",{src:d,alt:"",width:"889",height:"245"})],-1))])}const b=t(y,[["render",u],["__file","index.html.vue"]]),g=JSON.parse('{"path":"/article/ef521mr9/","title":"git","lang":"zh-CN","frontmatter":{"title":"git","tags":["git"],"createTime":"2025/02/13 22:08:26","permalink":"/article/ef521mr9/","description":"键入以下命令，连敲三次回车生成公钥，默认生成路径（第一次敲回车前就是设置路径） C:\\\\Users\\\\Haochuliu.ssh 配置本地用户名、邮箱 配置全局代理 多账户设置代理，在目录下（C:\\\\Users\\\\Haochuliu.ssh）创建 config 文件，写入以下内容 Git 本地创建密钥 github 自 2022 年 3 月份以后需要更改密钥生...","head":[["meta",{"property":"og:url","content":"https://upcloudrabbit.github.io/blog/blog/article/ef521mr9/"}],["meta",{"property":"og:site_name","content":"upcloudrabbit blog"}],["meta",{"property":"og:title","content":"git"}],["meta",{"property":"og:description","content":"键入以下命令，连敲三次回车生成公钥，默认生成路径（第一次敲回车前就是设置路径） C:\\\\Users\\\\Haochuliu.ssh 配置本地用户名、邮箱 配置全局代理 多账户设置代理，在目录下（C:\\\\Users\\\\Haochuliu.ssh）创建 config 文件，写入以下内容 Git 本地创建密钥 github 自 2022 年 3 月份以后需要更改密钥生..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-13T14:15:15.000Z"}],["meta",{"property":"article:tag","content":"git"}],["meta",{"property":"article:modified_time","content":"2025-02-13T14:15:15.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"git\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-13T14:15:15.000Z\\",\\"author\\":[]}"]]},"headers":[],"readingTime":{"minutes":3.95,"words":1186},"git":{"updatedTime":1739456115000,"contributors":[{"name":"upcloudrabbit","username":"upcloudrabbit","email":"1814876440@qq.com","commits":1,"avatar":"https://avatars.githubusercontent.com/upcloudrabbit?v=4","url":"https://github.com/upcloudrabbit"}]},"autoDesc":true,"filePathRelative":"other/git.md","categoryList":[{"id":"795f32","sort":10004,"name":"other"}]}');export{b as comp,g as data};
